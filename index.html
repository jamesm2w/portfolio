<!--
    jamesm2w.github.io - Index page for jamesm2w's github repository
    Copyright (C) 2020 James Macer-Wright

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>. -->


<!DOCTYPE html>
<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
        <title>jamesm2w</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <style type="text/css">
            nav {
                transition: background-color 200ms linear;
            }

            .nav-text {
                transition: color 200ms linear;
            }

            html {
                background-color: #212121;
            }

            .cards-container {
                column-break-inside: avoid;
                width: 100%;
            }
            .cards-container .card {
                display: inline-block;
                overflow: visible;
            }

            @media only screen and (max-width: 600px) {
                .cards-container {
                    -webkit-column-count: 1;
                    -moz-column-count: 1;
                    column-count: 1;
                }
            }
            @media only screen and (min-width: 601px) {
                .cards-container {
                    -webkit-column-count: 2;
                    -moz-column-count: 2;
                    column-count: 2;
                }
            }
            @media only screen and (min-width: 993px) {
                .cards-container {
                    -webkit-column-count: 3;
                    -moz-column-count: 3;
                    column-count: 3;
                }
            }
        </style>
    </head>

    <body>

        <header>

            <div class="navbar-fixed">
                <nav class="blue darken-4">
                    <div class="nav-wrapper">
                        <a href="#" class="brand-logo center" style="display: flex; flex-flow: row nowrap; align-items: center; align-content: space-around;">
                            <img src="images/image_profilepic_sm.jpeg" style="height: 45px;" class="circle">
                            <span style="margin-left: 10px;">jamesm2w</span>
                        </a>
                    </div>
                </nav>
            </div>

        </header>  

        <main>

            <div class="parallax-container" style="min-height: 90vh;">

                <div class="section no-pad-bot">
                    <div class="container white-text">
                        <img class="center circle" style="height: 250px; display: block; margin: auto;" src="images/image_profilepic_sm.jpeg" alt="jamesm2w Profile Pic">
                        <h3 class="header center" style="font-weight: 200;">jamesm2w</h3>
                        <h5 class="header center" style="font-weight: 100;">Occasional developer of things on and offline.</h5>
                    </div>
                </div>

                <div class="parallax" style="left: auto !important;"><img src="images/image_4x4car.jpg"></div>
            </div>

            <div class="section grey darken-3" id="projects">
                <div class="row container">
                    <h3 class="header white-text">Projects</h3>
                    <div class="row col s12 m12 l12 cards-container" id="cardsProject">
                        <p class="grey-text col s12" style="font-weight: 300;">Is there supposed to be something here?</p>
                    </div>
                </div>
            </div>

            <div class="parallax-container">
                <div class="parallax"><img src="images/image_spaceeginepic.jpg"></div>
            </div>

        </main>


        <footer class="page-footer blue-grey darken-3">
            <div class="container">
                <div class="row">
                    <div class="col l4 s12">
                        <h5 class="white-text">jamesm2w</h5>
                        <p class="grey-text text-lighten-4">Occassional developer of a few things online and offline.</p>
                    </div>
                    <div class="col l4 s12">
                        <h5 class="white-text">Project Links</h5>
                        <ul id="linksProject">
                            <li><a class="light-blue-text" href="#projects" target="_self">Travellers Mod (Worlds Adrift)</a></li><li><a class="light-blue-text" href="https://jamesm2w.github.io/uk-hexes/" target="_blank">UK Elections Hex Map</a></li><li><a class="light-blue-text" href="https://jamesm2w.github.io/uk-petition/" target="_blank">UK Petition Data Viewer</a></li><li><a class="light-blue-text" href="#projects" target="_self">TheNewStudent</a></li><li><a class="light-blue-text" href="#projects" target="_self">Panthers - 4x4 in Schools Competiton</a></li><li><a class="light-blue-text" href="https://thspanthers.com/" target="_blank">Panthers (Website)</a></li><li><a class="light-blue-text" href="#projects" target="_self">Engine Roller (Worlds Adrift)</a></li><li><a class="light-blue-text" href="#projects" target="_self">WANN/WAAC (Worlds Adrift)</a></li><li><a class="light-blue-text" href="https://snake-game2.glitch.me/" target="_blank">Snake Game 2</a></li><li><a class="light-blue-text" href="https://user-chat.glitch.me/" target="_blank">Multi-User Chat</a></li><li><a class="light-blue-text" href="https://5carddraw.glitch.me/" target="_blank">5 Card Draw (Website)</a></li><li><a class="light-blue-text" href="#projects" target="_self">Card Engine (Python)</a></li><li><a class="light-blue-text" href="#projects" target="_self">Voice Commands</a></li><li><a class="light-blue-text" href="#projects" target="_self">Godhand Discord Bot (Worlds Adrift)</a></li><li><a class="light-blue-text" href="#projects" target="_self">Misc. Discord Bots</a></li>
                        </ul>
                    </div>
                    <div class="col l4 s12">
                        <h5 class="white-text">Social Links</h5>
                        <ul id="linksSocial">
                            <li><a class="light-blue-text" href="https://github.com/jamesm2w/" target="_blank">Github</a></li><li><a class="light-blue-text" href="https://glitch.com/@jamesm2w" target="_blank">Glitch</a></li><li><a class="light-blue-text" href="https://www.youtube.com/channel/UCoGBLBgShbsbhj5yCejLDUQ" target="_blank">Youtube</a></li><li><a class="light-blue-text" href="https://www.instagram.com/jamesm2w/" target="_blank">Instagram</a></li><li><a class="light-blue-text" href="https://www.youtube.com/channel/UCR0UIJsLc3hAIIZ1w_fN7vw" target="_blank">Panthers Youtube</a></li><li><a class="light-blue-text" href="https://www.instagram.com/panthers4x4/" target="_blank">Panthers Instagram</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-copyright blue-grey darken-4 white-text">
                <div class="container">(C) Copyright 2020 James Macer-Wright
                    <a class="grey-text text-lighten-4 right" href="https://github.com/jamesm2w/jamesm2w.github.io">Source Code</a>
                </div>
            </div>
        </footer>

        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script>
            const loadJSON = url => {
                return new Promise((accept, reject) => {
                    let request = new XMLHttpRequest();
                    request.open("GET", url, true);

                    request.onload = () => {
                        if (request.status >= 200 && request.status < 400) {
                            accept(JSON.parse(request.response));
                        } else {
                            reject(request.response)
                        }
                    };

                    request.onerror = () => {
                        reject(request.error);
                    };

                    request.send();
                });
            };

            document.addEventListener("DOMContentLoaded", e => {
                let parallaxElements = document.querySelectorAll(".parallax");
                M.Parallax.init(parallaxElements, {});

                loadJSON("data/projects.json").then(data => {
                    console.log(data);

                    let socialList = document.getElementById("linksSocial");
                    socialList.innerHTML = "";
                    for (let key in data.social) {
                        socialList.innerHTML += `<li><a class="light-blue-text" href="${data.social[key]}" target="_blank">${key}</a></li>`;
                    }

                    let projectList = document.getElementById("linksProject");
                    let projectCards = document.getElementById("cardsProject");

                    projectList.innerHTML = "";
                    projectCards.innerHTML = "";

                    for (let project of data.projects) {
                        let webUrl = project.link["Website"] ? project.link["Website"] : "#projects";
                        projectList.innerHTML += `<li><a class="light-blue-text" href="${webUrl}" target="${webUrl == "#projects" ? "_self" : "_blank"}">${project.name}</li>`;

                        let card;
                        let linkStr = "";

                        for (let linkKey in project.link) {
                            console.log(linkKey + " => " + project.link[linkKey]);
                            linkStr += `<a class="light-blue-text" href="${project.link[linkKey]}" target="_blank">${linkKey}</a>`;
                        }

                        if (project.media && project.media.type == "image") {
                            card = `<div class="card">
                                <div class="card-image waves-effect waves-block waves-light">
                                  <img class="activator" src="${project.media.url}">
                                </div>
                                <div class="card-content activator">
                                <span class="grey-text text-darken-2" style="font-weight: 300;">${project.date}</span>
                                  <span class="card-title grey-text text-darken-4">${project.name}<i class="material-icons right">arrow_upward</i></span>
                                </div>
                                <div class="card-action">
                                  ${linkStr}
                                </div>
                                <div class="card-reveal">
                                  <span class="card-title grey-text text-darken-4">${project.name}<i class="material-icons right">close</i></span>
                                  <p>${project.description}</p>
                                </div>
                              </div>`;
                        } else {
                            card = `<div class="card">
                                        <div class="card-content">
                                          <span class="grey-text text-darken-2" style="font-weight: 300;">${project.date}</span>
                                          <span class="card-title">${project.name}</span>
                                          <p>${project.description}</p>
                                        </div>
                                        <div class="card-action">
                                          ${linkStr}
                                        </div>
                                      </div>`;
                        }

                        projectCards.innerHTML += card;
                        
                    }



                }).catch(err => {
                    console.log(err);
                })

            });

            document.addEventListener("scroll", e => {

            });
        </script>
    </body>
</html>